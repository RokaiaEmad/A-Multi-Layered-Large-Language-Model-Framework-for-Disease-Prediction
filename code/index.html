<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ğŸ©º Ù…ØµÙ†Ù Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø·Ø¨ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: #f1f4f9;
            color: #222;
            padding: 40px;
            text-align: center;
        }
        body {
    font-family: 'Cairo', sans-serif;
    background: url("static/doctors-stethoscope-white-background.jpg") no-repeat center center fixed;
    background-size: cover;
    color: #222;
    padding: 40px;
    text-align: center;
}

        textarea {
            width: 60%;
            height: 120px;
            padding: 15px;
            font-size: 18px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }
        button {
    margin: 10px;
    padding: 12px 25px;
    font-size: 16px;
    background-color: #005f73; /* new medical teal/navy */
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

button:hover {
    background-color: #0a9396; /* lighter shade on hover */
}

/* Prediction Result Text */
.output {
    margin-top: 25px;
    font-size: 22px;
    color: #003049;  /* deep navy (not green) */
    font-weight: bold;
}
        .button-group {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 15px;
    flex-wrap: wrap;
     }

    </style>
</head>
<body>
    <h1>ğŸ©º Ù…ØµÙ†Ù Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø·Ø¨ÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h1>
    <form method="POST">
        <textarea name="text" placeholder="...Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø·Ø¨ÙŠ Ù‡Ù†Ø§">{{ input_text }}</textarea>
        <div class="button-group">
            <button type="button" onclick="startDictation()">ğŸ™ï¸ ØªØ­Ø¯Ø«</button>
            <button name="action" value="category">ğŸ” ØªØµÙ†ÙŠÙ Ø§Ù„Ø³Ø¤Ø§Ù„</button>
            <button name="action" value="severity">ğŸš¨ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø®Ø·ÙˆØ±Ø©</button>
        </div>
        
    </form>

    {% if prediction %}
    <div class="output">
        âœ… <strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> {{ prediction }}
    </div>
    {% endif %}
    <script>
        function startDictation() {
            if (window.hasOwnProperty('webkitSpeechRecognition')) {
                const recognition = new webkitSpeechRecognition();
                recognition.lang = "ar-EG";
                recognition.continuous = false;
                recognition.interimResults = false;
        
                recognition.onresult = function(event) {
                    const spokenText = event.results[0][0].transcript;
                    document.querySelector("textarea[name='text']").value = spokenText;
                };
        
                recognition.onerror = function(event) {
                    alert("âŒ Ø­ØµÙ„ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª: " + event.error);
                };
        
                recognition.start();
            } else {
                alert("ğŸ™ï¸ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª.");
            }
        }
        </script>
</body>
</html>
